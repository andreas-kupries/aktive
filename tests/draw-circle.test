# -*- tcl -*- tcl.tk//DSL tcltest//EN//2.0 tcl.tk//DSL tcltest//EN//2.0
## (c) 2024 Andreas Kupries
# # ## ### ##### ######## ############# #####################
## AKTIVE. Drawing circles

kt check Tcl     8.6 9
kt check tcltest 2

# # ## ### ##### ######## ############# #####################

kt local testing aktive

kt source support/util.tcl

# # ## ### ##### ######## ############# #####################
## Syntax

syntax {
    circle  args
    circles args
} {aktive image draw}

# # ## ### ##### ######## ############# #####################

foreach {id config expected} {
    0 {filled 0 antialias 0 cwidth 0} {
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ 1 1 1 _ _ _ _
	_ _ _ 1 _ _ _ 1 _ _ _
	_ _ 1 _ _ _ _ _ 1 _ _
	_ _ 1 _ _ _ _ _ 1 _ _
	_ _ 1 _ _ _ _ _ 1 _ _
	_ _ _ 1 _ _ _ 1 _ _ _
	_ _ _ _ 1 1 1 _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
    }
    1 {filled 1 antialias 0 cwidth 0} {
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ 1 1 1 _ _ _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ 1 1 1 1 1 1 1 _ _
	_ _ 1 1 1 1 1 1 1 _ _
	_ _ 1 1 1 1 1 1 1 _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ _ _ 1 1 1 _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ _ _ _ _ _ _ _ _
    }
    2 {filled 0 antialias 0 cwidth 1} {
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ 1 1 1 1 1 1 1 _ _
	_ 1 1 1 1 1 1 1 1 1 _
	_ 1 1 1 _ _ _ 1 1 1 _
	_ 1 1 1 _ _ _ 1 1 1 _
	_ 1 1 1 _ _ _ 1 1 1 _
	_ 1 1 1 1 1 1 1 1 1 _
	_ _ 1 1 1 1 1 1 1 _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ _ _ _ _ _ _ _ _ _
    }
    3 {filled 1 antialias 0 cwidth 1} {
	_ _ _ _ _ _ _ _ _ _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ 1 1 1 1 1 1 1 _ _
	_ 1 1 1 1 1 1 1 1 1 _
	_ 1 1 1 1 1 1 1 1 1 _
	_ 1 1 1 1 1 1 1 1 1 _
	_ 1 1 1 1 1 1 1 1 1 _
	_ 1 1 1 1 1 1 1 1 1 _
	_ _ 1 1 1 1 1 1 1 _ _
	_ _ _ 1 1 1 1 1 _ _ _
	_ _ _ _ _ _ _ _ _ _ _
    }
    4 {filled 0 antialias 1 cwidth 0} {
	_      _      _      _      _      _      _      _      _      _      _
	_      _      _      0.0279 0.3769 0.5000 0.3769 0.0279 _      _      _
	_      _      0.2574 0.8944 1      1      1      0.8944 0.2574 _      _
	_      0.0279 0.8944 1      0.7361 0.5000 0.7361 1      0.8944 0.0279 _
	_      0.3769 1      0.7361 _      _      _      0.7361 1      0.3769 _
	_      0.5000 1      0.5000 _      _      _      0.5000 1      0.5000 _
	_      0.3769 1      0.7361 _      _      _      0.7361 1      0.3769 _
	_      0.0279 0.8944 1      0.7361 0.5000 0.7361 1      0.8944 0.0279 _
	_      _      0.2574 0.8944 1      1      1      0.8944 0.2574 _      _
	_      _      _      0.0279 0.3769 0.5000 0.3769 0.0279 _      _      _
	_      _      _      _      _      _      _      _      _      _      _
    }
    5 {filled 1 antialias 1 cwidth 0} {
	 _      _      _      _      _      _      _      _      _      _      _
	 _      _      _      0.0279 0.3769 0.5000 0.3769 0.0279 _      _      _
	 _      _      0.2574 0.8944 1      1      1      0.8944 0.2574 _      _
	 _      0.0279 0.8944 1      1      1      1      1      0.8944 0.0279 _
	 _      0.3769 1      1      1      1      1      1      1      0.3769 _
	 _      0.5000 1      1      1      1      1      1      1      0.5000 _
	 _      0.3769 1      1      1      1      1      1      1      0.3769 _
	 _      0.0279 0.8944 1      1      1      1      1      0.8944 0.0279 _
	 _      _      0.2574 0.8944 1      1      1      0.8944 0.2574 _      _
	 _      _      _      0.0279 0.3769 0.5000 0.3769 0.0279 _      _      _
	 _      _      _      _      _      _      _      _      _      _      _
    }
    6 {filled 0 antialias 1 cwidth 1} {
	 _      _      _      0.1148 0.4010 0.5000 0.4010 0.1148 _      _      _
	 _      _      0.5000 1      1      1      1      1      0.5000 _      _
	 _      0.5000 1      1      1      1      1      1      1      0.5000 _
	 0.1148 1      1      1      1      1      1      1      1      1      0.1148
	 0.4010 1      1      1      0.9142 0.5000 0.9142 1      1      1      0.4010
	 0.5000 1      1      1      0.5000 _      0.5000 1      1      1      0.5000
	 0.4010 1      1      1      0.9142 0.5000 0.9142 1      1      1      0.4010
	 0.1148 1      1      1      1      1      1      1      1      1      0.1148
	 _      0.5000 1      1      1      1      1      1      1      0.5000 _
	 _      _      0.5000 1      1      1      1      1      0.5000 _      _
	 _      _      _      0.1148 0.4010 0.5000 0.4010 0.1148 _      _      _
    }
    7 {filled 1 antialias 1 cwidth 1} {
	_      _      _      0.1148 0.4010 0.5000 0.4010 0.1148 _      _      _
	_      _      0.5000 1      1      1      1      1      0.5000 _      _
	_      0.5000 1      1      1      1      1      1      1      0.5000 _
	0.1148 1      1      1      1      1      1      1      1      1      0.1148
	0.4010 1      1      1      1      1      1      1      1      1      0.4010
	0.5000 1      1      1      1      1      1      1      1      1      0.5000
	0.4010 1      1      1      1      1      1      1      1      1      0.4010
	0.1148 1      1      1      1      1      1      1      1      1      0.1148
	_      0.5000 1      1      1      1      1      1      1      0.5000 _
	_      _      0.5000 1      1      1      1      1      0.5000 _      _
	_      _      _      0.1148 0.4010 0.5000 0.4010 0.1148 _      _      _
    }
} {
    test aktive-image-draw-circle-2.${id}-[join $config -] "aktive image draw circle, $config" -body {
	astcl aktive image draw circle width 11 height 11 radius 3 center {5 5} {*}$config
    } -match image -result [makei image::draw::circle 0 0 11 11 1 \
				"width 11 height 11 x 0 y 0 $config radius 3 center {5 5}" \
				[bw $expected]]

}

# # ## ### ##### ######## ############# #####################

test aktive-image-draw-circles-2.0 "aktive image draw circles" -body {
    astcl aktive image draw circles width 11 height 11 radius 1 \
	center {2 2} {7 3} {5 7}
} -match image -result [makei op::math::max-core 0 0 11 11 1 {} {
    0 0 0 0 0 0 0 0 0 0 0
    0 1 1 1 0 0 0 0 0 0 0
    0 1 0 1 0 0 1 1 1 0 0
    0 1 1 1 0 0 1 0 1 0 0
    0 0 0 0 0 0 1 1 1 0 0
    0 0 0 0 0 0 0 0 0 0 0
    0 0 0 0 1 1 1 0 0 0 0
    0 0 0 0 1 0 1 0 0 0 0
    0 0 0 0 1 1 1 0 0 0 0
    0 0 0 0 0 0 0 0 0 0 0
    0 0 0 0 0 0 0 0 0 0 0
}]

# # ## ### ##### ######## ############# #####################
unset id config expected
cleanupTests
return
